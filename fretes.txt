https://docs.fretebarato.com/?utm_source=chatgpt.com



import requests
import json

# ===========================
# Configurações iniciais
# ===========================
customer_id = "SEU_CUSTOMER_ID"       # Substitua pelo seu customer_id
token = "SEU_TOKEN"                   # Substitua pelo seu token Bearer
plataforma = "lojaintegrada"          # Plataforma (ex.: lojaintegrada)
method = "price"                      

url = f"https://admin.fretebarato.com/{plataforma}/{method}/v1/json/{customer_id}"

headers = {
    "Authorization": f"Bearer {token}",
    "Content-Type": "application/json",
    "User-Agent": "meuemail@exemplo.com"  # Coloque seu email de contato
}

# ===========================
# Payload de exemplo
# ===========================
payload = {
    "zipcode": "06652030",
    "amount": 125.82,
    "skus": [
        {
            "id": 149353786,
            "product_id": 21888010,
            "sku": "OC928237",
            "price": 129.9,
            "quantity": 1,
            "length": 1,
            "width": 1,
            "height": 1,
            "weight": 0.1
        }
    ]
}

# ===========================
# Fazendo a requisição POST
# ===========================
response = requests.post(url, headers=headers, data=json.dumps(payload))

if response.status_code == 200:
    quotes = response.json().get("quotes", [])
    for quote in quotes:
        print(f"Transportadora: {quote['name']}")
        print(f"Serviço: {quote['service']}")
        print(f"Preço: R${quote['price']}")
        print(f"Prazo: {quote['days']} dias\n")
else:
    print(f"Erro {response.status_code}: {response.text}")
