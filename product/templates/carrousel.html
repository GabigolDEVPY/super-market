<div class="container my-4">
  <div 
    id="carouselExampleIndicators" 
    class="carousel slide card shadow-sm border-0 rounded-3 overflow-hidden"
    data-bs-ride="carousel"
  >

    {% if images|length > 1 %}
    <!-- Indicators -->
    <div class="carousel-indicators">
      {% for image in images %}
        <button
          type="button"
          data-bs-target="#carouselExampleIndicators"
          data-bs-slide-to="{{ forloop.counter0 }}"
          class="{% if forloop.first %}active{% endif %}"
          {% if forloop.first %}aria-current="true"{% endif %}
          aria-label="Slide {{ forloop.counter }}">
        </button>
      {% endfor %}
    </div>
    {% endif %}

    <!-- Images -->
    <div class="carousel-inner bg-white">
      {% for image in images %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <img 
            src="{{ image.url|default:image }}"
            class="d-block w-100"
            alt="Imagem do produto"
            style="max-height: 420px; object-fit: contain;"
          >
        </div>
      {% endfor %}
    </div>

    {% if images|length > 1 %}
    <!-- Control Prev -->
    <button 
      class="carousel-control-prev"
      type="button"
      data-bs-target="#carouselExampleIndicators"
      data-bs-slide="prev"
      style="
        width: 44px;
        height: 44px;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(0,0,0,0.5);
        border-radius: 50%;
        opacity: 1;
      "
    >
      <span 
        class="carousel-control-prev-icon"
        style="filter: invert(1); width: 18px; height: 18px;">
      </span>
      <span class="visually-hidden">Anterior</span>
    </button>

    <!-- Control Next -->
    <button 
      class="carousel-control-next"
      type="button"
      data-bs-target="#carouselExampleIndicators"
      data-bs-slide="next"
      style="
        width: 44px;
        height: 44px;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(0,0,0,0.5);
        border-radius: 50%;
        opacity: 1;
      "
    >
      <span 
        class="carousel-control-next-icon"
        style="filter: invert(1); width: 18px; height: 18px;">
      </span>
      <span class="visually-hidden">Pr√≥ximo</span>
    </button>
    {% endif %}

  </div>
</div>
